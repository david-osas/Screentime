(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),l=a.n(c),i=a(39),s=a(63),o=a(13),m=a(16),u=a(12),d=a(10),p=a(22),g=a.n(p),f=a(30),v=a(136);var h=function(){return r.a.createElement("span",null,r.a.createElement("span",{style:{color:"#09afe3"}},"Screen"),"time")};var E=function(){return r.a.createElement("div",{className:"item-fill card bg-light text-white"},r.a.createElement("img",{src:a(98),className:"item-fill card-img",alt:"..."}),r.a.createElement("div",{className:"news-tint card-img-overlay d-flex justify-content-center align-items-center"},r.a.createElement("div",{className:"center-text"},r.a.createElement("h2",{className:"card-title"},r.a.createElement("i",null,"Welcome to a new frontier for movies")),r.a.createElement("p",{className:"card-text"},"Get ready to access to amazing now showing movies, see trending movies and always hear the hottest entertainment news."))))},b=a(138);var w=function(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement(b.a,{required:!0,fullWidth:!0,name:e.attr,type:e.attr,label:e.attr,variant:"outlined",value:e.input,onChange:e.inputHandler,error:e.wrong,helperText:e.wrong&&"invalid "+e.attr}))};function N(e){return{type:"SET_LOADING",loading:e}}var y=function(){var e=Object(n.useState)(["login","signup"]),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(u.a)(l,2),s=i[0],m=i[1],p=Object(n.useState)(""),b=Object(u.a)(p,2),y=b[0],j=b[1],O=Object(n.useState)(""),S=Object(u.a)(O,2),x=S[0],k=S[1],T=Object(n.useState)([!1,!1,!1]),_=Object(u.a)(T,2),C=_[0],I=_[1],P=Object(n.useState)("login"),W=Object(u.a)(P,2),D=W[0],G=W[1],H=Object(d.f)(),B=Object(o.b)();function L(){return(L=Object(f.a)(g.a.mark((function e(t){var a,n,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={method:"POST",body:JSON.stringify({email:y,username:s,password:x}),credentials:"same-origin",headers:{"Content-Type":"application/json"}},"login"!==D){e.next=11;break}return e.next=5,fetch("/server/login",n);case 5:return r=e.sent,e.next=8,r.json();case 8:a=e.sent,e.next=17;break;case 11:return e.next=13,fetch("/server/signup",n);case 13:return c=e.sent,e.next=16,c.json();case 16:a=e.sent;case 17:e.t0=a.feedBack,e.next="both"===e.t0?20:"username"===e.t0?22:"email"===e.t0?24:"password"===e.t0?26:"success"===e.t0?28:31;break;case 20:return I([!0,!0,!1]),e.abrupt("break",32);case 22:return I([!0,!1,!1]),e.abrupt("break",32);case 24:return I([!1,!0,!1]),e.abrupt("break",32);case 26:return I([!1,!1,!0]),e.abrupt("break",32);case 28:return B(N(!0)),H.push("/"),e.abrupt("break",32);case 31:I([!1,!1,!1]);case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=[s,y,x],F=[function(e){m(e.target.value)},function(e){j(e.target.value)},function(e){k(e.target.value)}];return r.a.createElement("div",{className:"register-row row"},r.a.createElement("div",{className:"col-lg-9 mb-4 mb-lg-0"},r.a.createElement(E,null)),r.a.createElement("div",{className:"col-lg-3 d-flex align-items-center mb-4 mb-lg-0"},r.a.createElement("div",{className:"register-details container"},r.a.createElement("h1",{className:"form-logo"},r.a.createElement(h,null)),r.a.createElement("form",{onSubmit:function(e){return L.apply(this,arguments)}},["username","email","password"].map((function(e,t){return"username"!==e?r.a.createElement(w,{key:e,attr:e,input:M[t],inputHandler:F[t],wrong:C[t]}):"login"===D?null:r.a.createElement(w,{key:e,attr:e,input:M[t],inputHandler:F[t],wrong:C[t]})})),r.a.createElement(v.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0},a[0])),r.a.createElement("p",{style:{marginTop:20}},"or",r.a.createElement(v.a,{color:"primary",onClick:function(e){e.preventDefault(),c("login"===a[0]?["signup","login"]:["login","signup"]),j(""),k(""),m(""),I([!1,!1,!1]),G("login"===D?"signup":"login")}},a[1])))))},j=a(137),O=a(70),S=a.n(O);var x=function(){var e=["/now-showing/1","/trending-movies","/latest-news"],t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(!1),s=Object(u.a)(i,2),o=s[0],p=s[1],E=Object(n.useState)(""),w=Object(u.a)(E,2),N=w[0],y=w[1],O=Object(d.f)();function x(){return(x=Object(f.a)(g.a.mark((function e(t){var a,n,r,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={method:"POST",body:JSON.stringify({movie:c}),credentials:"same-origin",headers:{"Content-Type":"application/json"}},e.next=4,fetch("/server/search-movie",a);case 4:return n=e.sent,e.next=7,n.json();case 7:(r=e.sent).feedBack?p(!0):r.result&&(l="/item/now-showing/"+r.result.id,O.push(l,{result:r.result}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){fetch("/server/get-user",{credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){y(e.username[0].toUpperCase()+e.username.slice(1))}))}),[]),r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mb-3"},r.a.createElement(m.b,{className:"navbar-brand",to:"/"},r.a.createElement("h4",null," ",r.a.createElement(h,null)," ")),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},["Now Showing","Trending","News"].map((function(t,a){return r.a.createElement("li",{key:t,className:"nav-item"},r.a.createElement(m.b,{to:e[a],className:"nav-link"},t))}))),r.a.createElement("form",{className:"form-inline my-2 my-lg-0",onSubmit:function(e){return x.apply(this,arguments)}},r.a.createElement(b.a,{required:!0,id:"search",type:"search",className:"form-control mr-sm-2 ",variant:"outlined",margin:"dense",placeholder:"Search now showing",value:c,onChange:function(e){l(e.target.value)},error:o,helperText:o&&"No result found"}),r.a.createElement(v.a,{type:"submit",variant:"contained",color:"primary",disableElevation:!0},"Search")),r.a.createElement("div",{className:"dropdown"},r.a.createElement(j.a,{color:"primary","aria-label":"user account",className:"dropdown-toggle",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement(S.a,{fontSize:"large",className:"dropdown"})),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},r.a.createElement("p",{className:"dropdown-item"},"Hello ",N),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement(v.a,{className:"dropdown-item",onClick:function(){console.log("osas"),fetch("/server/logout",{method:"DELETE",credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){"success"===e.feedBack&&O.push("/register")}))}},"Log out")))))},k=a(73),T=a.n(k),_=a(71),C=a.n(_),I=a(72),P=a.n(I),W=a(74),D=a.n(W),G=a(75),H=a.n(G);var B=function(){return r.a.createElement("footer",{className:"mt-3 p-4 bg-light"},r.a.createElement("div",{className:"row row-cols-1 row-cols-md-2"},r.a.createElement("div",{className:"col mb-3"},r.a.createElement("h4",null,r.a.createElement(h,null))),r.a.createElement("div",{className:"col mb-3"},r.a.createElement("div",{className:"d-flex justify-content-md-end"},r.a.createElement(C.a,null),r.a.createElement(P.a,null),r.a.createElement(T.a,null),r.a.createElement(D.a,null)))),r.a.createElement("p",{className:"d-flex justify-content-md-center"},"Made with ",r.a.createElement(H.a,{className:"heart"})," by Osas"))};var L=function(e){return r.a.createElement("div",{className:0===e.index?"carousel-item active":"carousel-item"},r.a.createElement("img",{src:e.imageSrc,className:" carousel-img img-fluid d-block w-100",alt:e.data}),r.a.createElement("div",{className:"carousel-caption d-none d-md-block carousel-text"},r.a.createElement("h5",null,e.data)))};var M=function(e){return r.a.createElement("ol",{className:"carousel-indicators"},e.list.map((function(t,a){return r.a.createElement("li",{key:t,"data-target":e.id,"data-slide-to":t,className:0===a?"active":""})})))},F=a(76),A=a.n(F),J=a(77),R=a.n(J),U=a(78),z=a.n(U);var q=function(){var e=["See the hottest movies showing in cinemas and never miss a new release","Checkout trending movies available for streaming and always have them one click away","Always be caught up on the latest news from the world of entertainment and never miss a gist"],t=["top-carousel","news-carousel"],a=[A.a,R.a,z.a];return r.a.createElement("div",{id:t[0],className:"carousel slide","data-ride":"carousel"},r.a.createElement(M,{id:"#"+t[0],list:["0","1","2"]}),r.a.createElement("div",{className:"carousel-inner"},e.map((function(e,t){return r.a.createElement(L,{key:e,data:e,index:t,imageSrc:a[t]})}))),r.a.createElement("a",{className:"carousel-control-prev",href:"#"+t[0],role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#"+t[0],role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next")))};var V=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{marginTop:50},id:e.title},e.title),r.a.createElement("hr",{align:"left",className:"home-rule"}))};var $=function(e){return r.a.createElement("div",{className:"card text-white"},r.a.createElement("img",{src:null===e.poster?a(50):e.poster,className:"img-fluid movie-img",alt:"news card"}),r.a.createElement("div",{className:"news-tint card-img-overlay d-flex align-items-end"},r.a.createElement("p",{className:"card-text w-75"},e.title),r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"card-link stretched-link text-white"},r.a.createElement("h4",null,"View"))))};var K=function(e){var t=e.poster?"https://image.tmdb.org/t/p/original"+e.poster:a(50);return r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:t,className:"card-img-top img-fluid",alt:"alt"})," ","home"===e.place?r.a.createElement("div",{className:"card-body"},r.a.createElement(m.b,{to:"/item/"+e.type+"/"+e.id,className:"card-link stretched-link"},r.a.createElement("h5",{className:"card-title"},e.title.toUpperCase())),r.a.createElement("p",{className:"card-text"},e.content)):r.a.createElement("div",{className:"card-footer"},r.a.createElement(m.b,{to:"/item/"+e.type+"/"+e.id,className:"card-link stretched-link"},e.title.toUpperCase())))};var Q=function(e){var t=Object(o.c)((function(e){return e.nowShowing.top})),a=Object(o.c)((function(e){return e.news.slice(0,4)})),n=Object(o.c)((function(e){return Object.entries(e.trending).slice(0,8)}));return"News"!==e.gridName?r.a.createElement("div",{className:"row row-cols-1 row-cols-lg-4 row-cols-md-2"},"Now Showing"===e.gridName&&t.map((function(e){return r.a.createElement("div",{className:"col mb-4",key:e.id},r.a.createElement(K,{place:"home",content:e.overview.slice(0,100)+"...",type:"now-showing",poster:e.posterPath,id:e.id,title:e.title}))})),"Trending"===e.gridName&&n.map((function(e){return r.a.createElement("div",{className:"col mb-4",key:e[1].id},r.a.createElement(K,{place:"home",content:e[1].overview.slice(0,100)+"...",type:"trending",poster:e[1].posterPath,id:e[1].id,title:e[1].title}))}))):r.a.createElement("div",{className:"row row-cols-1 row-cols-lg-2"},a.map((function(e){return r.a.createElement("div",{className:"col mb-4",key:e._id},r.a.createElement($,{poster:e.urlToImage,url:e.url,title:e.title}))})))};var X=function(){var e=["/now-showing/1","/trending-movies","/latest-news"];return r.a.createElement("div",{className:"container"},r.a.createElement(x,null),r.a.createElement(q,null),["Now Showing","Trending","News"].map((function(t,a){return r.a.createElement(n.Fragment,{key:t},r.a.createElement(V,{title:t}),r.a.createElement(Q,{gridName:t}),r.a.createElement(m.b,{to:e[a]},r.a.createElement(v.a,{color:"primary"},"Show more")))})),r.a.createElement(B,null))},Y=a(139);var Z=function(e){var t;switch(e.place){case"now-showing":t="new releases available in cinemas";break;case"trending":t="trending movies";break;case"news":t="hot topics about the world of entertainment";break;default:t=""}return r.a.createElement("div",{className:"jumbotron jumbotron-fluid bg-dark text-white"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"display-4 center-text"},"Showing list of ",t)))};function ee(e){return function(t){return fetch("/server/movies/"+e,{credentials:"same-origin"}).then((function(e){return e.json()})).then((function(a){var n={};a.forEach((function(e){n[e.id]=e})),t(function(e){return{type:"SET_NOW_SHOWING",movies:e}}(n)),1===e&&t(function(e){return{type:"SET_TOP_SHOWING",movies:e}}(a.splice(0,8)))}))}}var te=function(e){var t,a=Object(d.g)(),c=Object(o.c)((function(e){return Object.entries(e.nowShowing.movies)})),l=Object(o.c)((function(e){return Object.entries(e.trending)})),i=Object(o.c)((function(e){return e.news})),s=Object(n.useState)(1),m=Object(u.a)(s,2),p=m[0],g=m[1],f=Object(d.f)(),v=Object(d.h)().page,h=Object(o.b)();return Object(n.useEffect)((function(){"now-showing"===e.type&&fetch("/server/page-numbers",{credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){g(e.num)}))}),[e.type]),h(ee(v)),t="/latest-news"!==a.pathname?"row row-cols-1 row-cols-lg-4 row-cols-md-2":"row row-cols-1 row-cols-lg-2",r.a.createElement("div",{className:"container"},r.a.createElement(x,null),r.a.createElement(Z,{place:e.type}),r.a.createElement("div",{className:t},"now-showing"===e.type&&c.map((function(t){return r.a.createElement("div",{key:t[1].id,className:"col mb-4"},r.a.createElement(K,{place:"list",type:e.type,poster:t[1].posterPath,id:t[1].id,title:t[1].title}))})),"trending"===e.type&&l.map((function(t){return r.a.createElement("div",{key:t[1].id,className:"col mb-4"},r.a.createElement(K,{place:"list",type:e.type,poster:t[1].posterPath,id:t[1].id,title:t[1].title}))})),"news"===e.type&&i.map((function(e){return r.a.createElement("div",{className:"col mb-4",key:e._id},r.a.createElement($,{poster:e.urlToImage,url:e.url,title:e.title}))})),"now-showing"===e.type&&r.a.createElement(Y.a,{className:"mx-auto my-4",count:p,color:"primary",onChange:function(e,t){f.push("/now-showing/"+t)}})),r.a.createElement(B,null))},ae=a(79),ne=a.n(ae);var re=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"item-title"}," ",e.title.toUpperCase()," "),r.a.createElement("hr",{className:"item-rule"}))};var ce=function(){var e,t,c=Object(d.h)(),l=c.itemId,i=c.type,s=Object(d.g)(),m=Object(n.useState)(null),p=Object(u.a)(m,2),g=p[0],f=p[1],v=Object(n.useState)(null),h=Object(u.a)(v,2),E=h[0],b=h[1],w=Object(n.useState)(null),N=Object(u.a)(w,2),y=N[0],j=N[1];function O(e){switch(i){case"now-showing":return fetch("/server/cinemas",{credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){y||j(e)})),e.nowShowing.movies[l];case"trending":return t=e.platforms,e.trending[l];default:return e}}Object(n.useEffect)((function(){fetch("/server/trailer/"+l,{credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){g||f(e.key)}))}),[l,g]);var S=Object(o.c)((function(e){return O(e)})),k=s.state?s.state.result:S;e=k.posterPath?"https://image.tmdb.org/t/p/original"+k.posterPath:a(50),E||function(e){var t={method:"POST",body:JSON.stringify({genre:e}),credentials:"same-origin",headers:{"Content-Type":"application/json"}};fetch("/server/genre",t).then((function(e){return e.json()})).then((function(e){b(e.genres)}))}(k.genreIds);var T=Math.round(k.popularity);return r.a.createElement("div",{className:"container"},r.a.createElement(x,null),r.a.createElement("img",{src:e,className:"item-img img-fluid bg-dark",alt:"item"}),r.a.createElement(re,{title:k.title}),r.a.createElement("p",null,k.adult?r.a.createElement("span",{className:"badge badge-pill badge-danger mr-3"},"Rated 18"):r.a.createElement("span",{className:"badge badge-pill badge-primary mr-3"},"Family friendly"),r.a.createElement("span",{className:"mr-3"},T,r.a.createElement(ne.a,{className:"star"})," "),"released: ",k.releaseDate),r.a.createElement("p",null,E&&E.map((function(e){return r.a.createElement("span",{key:e,className:"badge badge-pill badge-info mr-3"},e)}))),r.a.createElement("p",null,k.overview),g&&r.a.createElement("div",{align:"center",className:"trailer-div"},r.a.createElement("iframe",{title:"movie",className:"trailer",src:"https://www.youtube.com/embed/"+g})),y&&r.a.createElement("div",null,r.a.createElement("h3",null,"Checkout available cinemas showing this movie right now"),r.a.createElement("ul",null,y.places.map((function(e,t){return r.a.createElement("li",{key:e},e+" cinema: $"+y.prices[t])})))),"trending"===i&&r.a.createElement("div",null,r.a.createElement("h3",null,"Checkout available streaming platforms to watch your amazing movies"),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e},e)})))),r.a.createElement(B,null))};a(104);var le=function(){var e=Object(o.c)((function(e){return e.loading})),t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],l=a[1],i=Object(d.g)(),s=Object(d.f)(),m=Object(o.b)();return Object(n.useEffect)((function(){"/register"===i.pathname?m(N(!1)):c||fetch("/server/get-user",{credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){var t;"success"===e.feedBack?(m((t=1,function(){var e=Object(f.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(ee(t));case 2:return e.next=4,a((function(e){return fetch("/server/popular-movies",{credentials:"same-origin"}).then((function(e){return e.json()})).then((function(t){var a={};t.popularMovies.forEach((function(e){a[e.id]=e})),e(function(e){return{type:"SET_TRENDING",movies:e}}(a)),e({type:"SET_PLATFORMS",platforms:t.platforms})}))}));case 4:return e.next=6,a((function(e){return fetch("/server/top-news",{credentials:"same-origin"}).then((function(e){return e.json()})).then((function(t){e({type:"SET_NEWS",articles:t})}))}));case 6:return e.next=8,a(N(!1));case 8:console.log("i am done setting up store");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),l(!0)):s.push("/register")}))}),[c,m,s,i]),e?r.a.createElement("h1",{className:"center-text"},"Loading..."):r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/"},r.a.createElement(X,null)),r.a.createElement(d.a,{exact:!0,path:"/now-showing/:page"},r.a.createElement(te,{type:"now-showing"})),r.a.createElement(d.a,{exact:!0,path:"/trending-movies"},r.a.createElement(te,{type:"trending"})),r.a.createElement(d.a,{exact:!0,path:"/latest-news"},r.a.createElement(te,{type:"news"})),r.a.createElement(d.a,{exact:!0,path:"/item/:type/:itemId"},r.a.createElement(ce,null)),r.a.createElement(d.a,{exact:!0,path:"/register"},r.a.createElement(y,null)),r.a.createElement(d.a,null,r.a.createElement("h1",null,"No match, try a different route")))},ie=a(40),se=a(29);var oe=Object(i.b)({nowShowing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOW_SHOWING":return Object(se.a)(Object(se.a)({},e),{},{movies:Object(se.a)({},t.movies)});case"SET_TOP_SHOWING":return Object(se.a)(Object(se.a)({},e),{},{top:Object(ie.a)(t.movies)});default:return e}},trending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TRENDING":return Object(se.a)({},t.movies);default:return e}},platforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PLATFORMS":return Object(ie.a)(t.platforms);default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NEWS":return Object(ie.a)(t.articles);default:return e}},loading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.loading;default:return e}}}),me=Object(i.c)(oe,Object(i.a)(s.a));l.a.render(r.a.createElement(o.a,{store:me},r.a.createElement(m.a,null,r.a.createElement(le,null))),document.getElementById("root"))},50:function(e,t,a){e.exports=a.p+"static/media/theme.74589c29.jpg"},76:function(e,t,a){e.exports=a.p+"static/media/james-bond.97a22610.jpg"},77:function(e,t,a){e.exports=a.p+"static/media/old-gaurd.9a974b87.jpg"},78:function(e,t,a){e.exports=a.p+"static/media/hobbit.300f9619.jpg"},88:function(e,t,a){e.exports=a(105)},98:function(e,t,a){e.exports=a.p+"static/media/avengers.f0e552a7.png"}},[[88,1,2]]]);
//# sourceMappingURL=main.00cc776b.chunk.js.map